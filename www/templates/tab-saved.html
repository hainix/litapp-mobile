<ion-view view-title="Bookmarks" cache-view="true">
  <ion-nav-buttons side="secondary" ng-hide="!hideFBLoginButton">
    <button 
      class="button icon {{filterTypeIcon}}"  
      ng-hide="!hideFBLoginButton || hideLocationFilter"
      ng-click="toggleFilter()">
      Sort
    </button>
  </ion-nav-buttons>
  <ion-content>
    <ion-refresher
      ng-if="bookmarks" 
      pulling-text="Pull to refresh" 
      on-refresh="pullToRefreshBookmarks()">
    </ion-refresher>
    <ion-list>
	    <ion-item 
        ng-if="hideFBLoginButton && (!bookmarks || bookmarks.length == 0)" 
        style="text-align: center;">
	  	  You haven't saved any spots yet
	    </ion-item>
	    <ion-list ng-repeat="list in bookmarks" ng-if="bookmarks">
	      <a 
		      href="#/tab/saved/{{list.id}}"
  		    class="item item-divider item-icon-right"
			    style="margin-top: 6px;">
		      {{list.city_name}} {{list.plural_entry_name}}
   	 	    <i class="button-small icon ion-ios-list-outline" style="right: -2px;"></i>
		    </a>	
	  	  <div class="lists-detail-container list-with-entries">
	        <ion-item 
			      ng-repeat="entry in list.entries | orderBy:listOrderField" 
			      type="item-text-wrap" 
			      href="#/tab/saved/{{entry.list_id}}/{{entry.id}}">
	          <div class="list-detail-row" 
			        style="background: url({{entry.list_item_thumbnail}}); background-position: center; background-size: cover;">
			        <div class="list-entry-position" ng-if="entry.position" >
				        <h2 ng-class="(entry.position > 9) ? 'smaller-text' : ''">
					        {{entry.position}}
				        </h2>
				      </div>
			        <div class="list-detail-row-overlay">
			          <h2>{{entry.name}}</h2>
				        <p>
    	          <span 
    				      ng-if="entry.displayed_distance_from_me" 
    				      class="distance-from-me">
    				      {{entry.displayed_distance_from_me}} mi · 
    			      </span>
    			      <span
                  ng-if="entry.place && entry.place.neighborhoods">
                  {{entry.place.neighborhoods}} 
                </span>
    			      <span
                  ng-if="entry.place && entry.place.neighborhoods && entry.place.categories">
                 · 
                </span>
    			      <span
                  ng-if="entry.place && entry.place.categories">
                  {{entry.place.categories}}
                </span>
				        </p>
			        </div>
			      </div>
	          <ion-option-button 
	  		      class="button-assertive" 
			        ng-click="removeEntry(entry.id)">
	            Remove
	          </ion-option-button>
		      </ion-item>
	      </div>
      </ion-list>
	    <button 
        ng-hide="!hideFBLoginButton" 
        class="item button button-block" 
        ng-click="fbLogout()">
	      Logout {{logout_posttext}}
	    </button>
    </ion-list>
    <div class="center scroll" ng-hide="hideFBLoginButton">
      <div class="row">
        <div class="col center">
  	  	    <ion-item>
      		    <button class="button button-block button-royal" ng-click="fbLogin()">
      		      Login with Facebook to Save Spots
      	 	    </button>
  		        <div 
                class="ion-locked subtle-text" 
                style="text-align: center; font-size: 14px">
                &nbsp;&nbsp;We do not post or share your information.
              </div>
    		    </ion-item>
        </div>
      </div>
    </div>
  </ion-content>
</ion-view>
